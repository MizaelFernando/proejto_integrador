<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionário Vocacional</title>
    <style>
        /* O CSS (estilo) é o mesmo de antes, sem alterações */
        body { font-family: Arial, sans-serif; background-color: #f4f4f9; color: #333; line-height: 1.6; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        #container { background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 100%; max-width: 700px; }
        h1 { color: #4a4a4a; text-align: center; margin-bottom: 25px; }
        .pergunta { background: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-bottom: 15px; }
        .pergunta p { margin: 0 0 10px 0; font-weight: bold; }
        .opcoes label { margin-right: 20px; cursor: pointer; }
        .opcoes input[type="radio"] { margin-right: 5px; }
        #btn-submit { display: block; width: 100%; padding: 15px; border: none; background-color: #007bff; color: white; font-size: 18px; font-weight: bold; border-radius: 8px; cursor: pointer; margin-top: 20px; transition: background-color 0.3s; }
        #btn-submit:hover { background-color: #0056b3; }
        #btn-submit:disabled { background-color: #ccc; cursor: not-allowed; }
        #mensagem-erro { color: red; text-align: center; margin-top: 15px; display: none; }
        #mensagem-sucesso { color: green; text-align: center; font-weight: bold; margin-top: 15px; display: none; }
    </style>
</head>
<body>
    <div id="container">
        <h1>Questionário sobre Futuro Profissional</h1>
        <form id="quiz-form">
            <!-- As 10 perguntas continuam exatamente as mesmas aqui -->
            <div class="pergunta"><p>1- Você já sabe qual profissão deseja seguir?</p><div class="opcoes"><label><input type="radio" name="p1" value="Sim"> Sim</label><label><input type="radio" name="p1" value="Nao"> Não</label></div></div>
            <div class="pergunta"><p>2- Você conhece os passos necessários para chegar até essa profissão?</p><div class="opcoes"><label><input type="radio" name="p2" value="Sim"> Sim</label><label><input type="radio" name="p2" value="Nao"> Não</label></div></div>
            <div class="pergunta"><p>3- Você já pesquisou sobre vestibulares, cursos técnicos ou faculdades?</p><div class="opcoes"><label><input type="radio" name="p3" value="Sim"> Sim</label><label><input type="radio" name="p3" value="Nao"> Não</label></div></div>
            <div class="pergunta"><p>4- Você se sente preparado(a) para escolher uma carreira neste momento?</p><div class="opcoes"><label><input type="radio" name="p4" value="Sim"> Sim</label><label><input type="radio" name="p4" value="Nao"> Não</label></div></div>
            <div class="pergunta"><p>5- Você costuma conversar com alguém (professores, família, colegas) sobre seu futuro profissional?</p><div class="opcoes"><label><input type="radio" name="p5" value="Sim"> Sim</label><label><input type="radio" name="p5" value="Nao"> Não</label></div></div>
            <div class="pergunta"><p>6- Você sente ansiedade ou preocupação quando pensa sobre seu futuro?</p><div class="opcoes"><label><input type="radio" name="p6" value="Sim"> Sim</label><label><input type="radio" name="p6" value="Nao"> Não</label></div></div>
            <div class="pergunta"><p>7- Você acha que a escola ajuda o suficiente na escolha da profissão?</p><div class="opcoes"><label><input type="radio" name="p7" value="Sim"> Sim</label><label><input type="radio" name="p7" value="Nao"> Não</label></div></div>
            <div class="pergunta"><p>8- Você utiliza o celular ou a internet para buscar informações sobre carreiras e vestibulares?</p><div class="opcoes"><label><input type="radio" name="p8" value="Sim"> Sim</label><label><input type="radio" name="p8" value="Nao"> Não</label></div></div>
            <div class="pergunta"><p>9- Você acredita que cuidar da saúde influencia no seu futuro profissional e pessoal?</p><div class="opcoes"><label><input type="radio" name="p9" value="Sim"> Sim</label><label><input type="radio" name="p9" value="Nao"> Não</label></div></div>
            <div class="pergunta"><p>10- Você gostaria de participar de atividades em grupo para pensar sobre seu futuro e profissões?</p><div class="opcoes"><label><input type="radio" name="p10" value="Sim"> Sim</label><label><input type="radio" name="p10" value="Nao"> Não</label></div></div>
            
            <button type="button" id="btn-submit">Enviar Respostas</button>
            <p id="mensagem-erro">Por favor, responda todas as perguntas antes de enviar.</p>
            <p id="mensagem-sucesso">Obrigado! Suas respostas foram enviadas com sucesso.</p>
        </form>
    </div>

    <script>
        // !!! IMPORTANTE !!! COLE A URL DO SEU APLICATIVO WEB AQUI
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycby2j_QxSR_wMmgPksdLJX9PihVrKeXQHLqomG3pz-K7YG3mRFOEK7I3pJCxTkxXbsEM/exec";

        const form = document.getElementById('quiz-form');
        const btnSubmit = document.getElementById('btn-submit');
        const msgErro = document.getElementById('mensagem-erro');
        const msgSucesso = document.getElementById('mensagem-sucesso');

        btnSubmit.addEventListener('click', function() {
            const totalPerguntas = 10;
            const respostas = {};
            let respondidas = 0;

            for (let i = 1; i <= totalPerguntas; i++) {
                const resposta = form.elements['p' + i].value;
                if (resposta) {
                    respondidas++;
                    respostas['p' + i] = resposta;
                }
            }

            if (respondidas < totalPerguntas) {
                msgErro.style.display = 'block';
                msgSucesso.style.display = 'none';
                return;
            }
            
            msgErro.style.display = 'none';
            btnSubmit.disabled = true;
            btnSubmit.textContent = "Enviando...";

            fetch(SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors', // Importante para evitar erros de CORS com o Google Scripts
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(respostas)
            })
            .then(response => {
                form.style.display = 'none'; // Esconde o formulário
                msgSucesso.style.display = 'block'; // Mostra a mensagem de sucesso
            })
            .catch(error => {
                console.error('Erro:', error);
                msgErro.textContent = "Ocorreu um erro ao enviar. Por favor, tente novamente.";
                msgErro.style.display = 'block';
                btnSubmit.disabled = false;
                btnSubmit.textContent = "Enviar Respostas";
            });
        });
    </script>
</body>
</html>
